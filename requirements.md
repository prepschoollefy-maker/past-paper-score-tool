# 中学受験スケジュール管理ツール — 要件定義書

## プロダクト概要

中学受験（主に首都圏2月入試）の保護者向けWebアプリ。受験校の選定・スケジュール管理・合否による分岐パターンの作成を、紙やExcelよりも快適に行えるツール。

### ターゲットユーザー

- 中学受験生の保護者（主に母親を想定）
- ITリテラシーは一般的なレベル（スマホでLINE・Webを普通に使える程度）

### コアバリュー

「学校を配置するだけで、見落としやお金の問題が自動で浮かび上がる」

---

## 技術スタック

- **フロントエンド**: React + TypeScript
- **スタイリング**: Tailwind CSS
- **データ永続化**: localStorage（MVP段階。将来的にバックエンド追加の可能性あり）
- **PDF出力**: ブラウザ上で完結する方法（html2canvas + jsPDF 等）
- **デプロイ**: 静的ホスティング（Vercel等）

---

## 画面構成

### 画面1: 受験校リスト

学校マスターデータから「今回使う学校」を選んで自分のリストに追加する画面。

- 学校マスターから検索・フィルタして追加できる
- 追加した学校はカード形式で一覧表示
- カードには主要情報（学校名、試験回、試験日時、偏差値帯など）を表示
- カードをタップすると詳細情報を確認できる

### 画面2: スケジュールボード（メイン画面）

横軸が日程スロット（2/1AM, 2/1PM, 2/2AM, ...）、受験校リストから学校カードを各スロットに配置していく画面。

#### 分岐の仕組み

各スロットに学校を配置した際、以下を選択できる：

1. **分岐あり** — この学校の合否で後続スケジュールが変わる
2. **分岐なし（継続）** — 合否に関わらず次に進む
3. **分岐なし（終了）** — ここで受験終了

「分岐あり」を選んだ場合、そのスロット以降が「◯の場合」「✕の場合」に分かれ、それぞれに別の学校を配置できる。

#### 重要な設計方針

- すべての学校に分岐が必要なわけではない。安全校には分岐を設定しないのが普通
- 保護者は「パターンを定義する」のではなく「もし落ちたら？に答えていく」形で操作する
- 分岐は入れ子になりうる（A校✕ → C校の合否でさらに分岐）

#### 自動チェック・アラート機能

スケジュール全体に対して以下を自動で検出・表示する：

- **時間的な無理**: 午前校の試験終了時刻と午後校の集合時刻が近すぎる場合の警告
- **出願締切**: 期限が近い、または過ぎている学校の警告
- **入学金の期限問題**: ある学校の入学金振込期限が、別の学校の合格発表より前にくるケースの警告（仮押さえが必要かどうかの判断材料）
- **費用概算**: パターンごとの受験料合計、最悪ケースの入学金仮押さえ総額

### 画面3: パターン一覧

画面2で作成した分岐から、全パターンを自動生成して一覧表示する画面。

- 各パターンは「全勝パターン」「A校✕パターン」等のラベル付き
- パターンごとに受験校の流れ、費用、主要日程が一目でわかる
- この画面がPDF出力の元になる

---

## データ設計

### 学校マスターデータ

学校単位ではなく **「試験回」単位** でレコードを持つ。同じ学校でも試験日が異なれば別レコード。

```
例：
- 開成中学校 2/1 → 1レコード
- 渋谷教育学園渋谷 2/1, 2/2, 2/5 → 3レコード
- 栄東 A日程, 東大特待 → 2レコード
```

#### 試験回ごとに保持するデータ

**基本情報**
- 学校名
- 試験回名称（第1回、第2回、午後入試 等）
- 男女区分（男子校/女子校/共学）

**試験情報**
- 試験日
- 時間帯（午前/午後）
- 集合時間
- 試験終了予想時間
- 試験科目（4科/2科/1科 等）
- 受験料

**出願情報**
- 出願開始日時
- 出願締切日時
- 出願方法（Web/窓口/郵送）

**合格発表・手続き**
- 合格発表日時
- 入学手続き締切日時
- 入学金額
- 延納制度の有無
- 延納期限
- 延納時の手付金額

**所在地**
- 最寄り駅
- 試験会場（本校と異なる場合）

**難易度指標**
- 四谷大塚偏差値（80/50）
- 日能研R4偏差値
- SAPIX偏差値
- 前年実質倍率

### ユーザーデータ（保護者が入力）

- 子どもの模試偏差値・合格判定（任意入力）
- 各学校への志望順位やメモ
- 作成したスケジュール・分岐データ
- 保存したパターン

---

## 複数パターンの保存

- スケジュール全体を名前付きで保存できる（例:「安全重視プラン」「チャレンジプラン」）
- 複数パターンを保存・切り替え可能
- localStorageに保存（MVPフェーズ）

---

## PDF出力

- パターン一覧画面の内容をPDFとして出力できる
- 用途：父親や塾の先生への共有

---

## 将来的な追加機能（今は実装しない）

- **アクションリスト自動生成**: 確定パターンから出願日・入学金振込期限等のToDoリストを自動生成
- **Googleカレンダー連携**
- **バックエンド・アカウント機能**: 複数端末でのデータ同期
- **学校マスターデータの拡充**: 初期は50校、段階的に増やす

---

## 開発の優先順位

1. 学校マスターデータの構造とサンプルデータ（10校程度）の作成
2. 受験校リスト画面（学校の検索・追加）
3. スケジュールボード（学校配置と分岐設定）
4. パターン一覧の自動生成
5. 自動チェック・アラート機能
6. PDF出力
7. 複数パターンの保存

---

## 非機能要件

- スマートフォンでの操作を第一に考慮したレスポンシブデザイン
- オフラインでも基本機能が使える（localStorageベース）
- 初回表示が速いこと（静的サイト）

---

## 補足

- 学校マスターデータは後日JSONファイルとして提供予定。開発段階では10校程度のサンプルデータで進める
- UIの操作性が最重要。見た目の美しさよりも「迷わず使える」ことを優先する
- 保護者が「エクセルのほうが早い」と感じたら負け。操作ステップを最小限にする
